{"ast":null,"code":"var _jsxFileName = \"/Users/edaakturk/Desktop/multi-sig-challenge/packages/react-app/src/components/MultiSig/TransactionListItem.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Button, List } from \"antd\";\nimport { Address, Balance, Blockie } from \"..\";\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\nimport { EllipsisOutlined } from \"@ant-design/icons\";\nimport { ethers } from \"ethers\";\nimport { parseEther } from \"@ethersproject/units\";\nimport { parseExternalContractTransaction } from \"../../helpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\");\n\nexport default function TransactionListItem({\n  item,\n  mainnetProvider,\n  blockExplorer,\n  price,\n  readContracts,\n  contractName,\n  children\n}) {\n  _s();\n\n  //console.log(\"coming in item:\", item);\n  item = item.args ? item.args : item;\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [txnData, setTxnData] = useState({});\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  useEffect(() => {\n    if (!txnData[item.hash]) {\n      try {\n        const parsedData = item.data != \"0x\" ? readContracts[contractName].interface.parseTransaction(item) : null; //console.log(\"SET\",JSON.stringify(item),JSON.stringify(parsedData))\n\n        const newData = {};\n        newData[item.hash] = parsedData;\n        setTxnData({ ...txnData,\n          ...newData\n        });\n      } catch (argumentError) {\n        const getParsedTransaction = async () => {\n          const parsedTransaction = await parseExternalContractTransaction(item.to, item.data);\n          const newData = {};\n          newData[item.hash] = parsedTransaction;\n          setTxnData({ ...txnData,\n            ...newData\n          });\n        };\n\n        getParsedTransaction();\n      }\n    }\n  }, [item]);\n\n  const txDisplay = () => {\n    var _item, _txnData$item$hash, _txnData$item$hash$fu, _txnData$item$hash5, _txnData$item$hash5$f, _txnData$item$hash9, _txnData$item$hash9$f, _txnData$item$hash10;\n\n    const toSelf = ((_item = item) === null || _item === void 0 ? void 0 : _item.to) == readContracts[contractName].address;\n\n    if (toSelf && ((_txnData$item$hash = txnData[item.hash]) === null || _txnData$item$hash === void 0 ? void 0 : (_txnData$item$hash$fu = _txnData$item$hash.functionFragment) === null || _txnData$item$hash$fu === void 0 ? void 0 : _txnData$item$hash$fu.name) == \"addSigner\") {\n      var _txnData$item$hash2, _txnData$item$hash3, _txnData$item$hash4, _txnData$item$hash4$a;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\"\n          },\n          children: \"Add Signer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), ethers.utils.isAddress((_txnData$item$hash2 = txnData[item.hash]) === null || _txnData$item$hash2 === void 0 ? void 0 : _txnData$item$hash2.args[0]) && /*#__PURE__*/_jsxDEV(Address, {\n          address: (_txnData$item$hash3 = txnData[item.hash]) === null || _txnData$item$hash3 === void 0 ? void 0 : _txnData$item$hash3.args[0],\n          ensProvider: mainnetProvider,\n          blockExplorer: blockExplorer,\n          fontSize: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16\n          },\n          children: [\"with threshold \", (_txnData$item$hash4 = txnData[item.hash]) === null || _txnData$item$hash4 === void 0 ? void 0 : (_txnData$item$hash4$a = _txnData$item$hash4.args[1]) === null || _txnData$item$hash4$a === void 0 ? void 0 : _txnData$item$hash4$a.toNumber()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: children\n        }, void 0, false)]\n      }, void 0, true);\n    } else if (toSelf && ((_txnData$item$hash5 = txnData[item.hash]) === null || _txnData$item$hash5 === void 0 ? void 0 : (_txnData$item$hash5$f = _txnData$item$hash5.functionFragment) === null || _txnData$item$hash5$f === void 0 ? void 0 : _txnData$item$hash5$f.name) == \"removeSigner\") {\n      var _txnData$item$hash6, _txnData$item$hash7, _txnData$item$hash8, _txnData$item$hash8$a;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\"\n          },\n          children: \"Remove Signer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), ethers.utils.isAddress((_txnData$item$hash6 = txnData[item.hash]) === null || _txnData$item$hash6 === void 0 ? void 0 : _txnData$item$hash6.args[0]) && /*#__PURE__*/_jsxDEV(Address, {\n          address: (_txnData$item$hash7 = txnData[item.hash]) === null || _txnData$item$hash7 === void 0 ? void 0 : _txnData$item$hash7.args[0],\n          ensProvider: mainnetProvider,\n          blockExplorer: blockExplorer,\n          fontSize: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16\n          },\n          children: [\"with threshold \", (_txnData$item$hash8 = txnData[item.hash]) === null || _txnData$item$hash8 === void 0 ? void 0 : (_txnData$item$hash8$a = _txnData$item$hash8.args[1]) === null || _txnData$item$hash8$a === void 0 ? void 0 : _txnData$item$hash8$a.toNumber()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: children\n        }, void 0, false)]\n      }, void 0, true);\n    } else if (!((_txnData$item$hash9 = txnData[item.hash]) === null || _txnData$item$hash9 === void 0 ? void 0 : (_txnData$item$hash9$f = _txnData$item$hash9.functionFragment) === null || _txnData$item$hash9$f === void 0 ? void 0 : _txnData$item$hash9$f.name)) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\"\n          },\n          children: \"Transfer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          balance: item.value ? item.value : parseEther(\"\" + parseFloat(item.amount).toFixed(12)),\n          dollarMultiplier: price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), \"to\", /*#__PURE__*/_jsxDEV(Address, {\n          address: item.to,\n          ensProvider: mainnetProvider,\n          blockExplorer: blockExplorer,\n          fontSize: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: children\n        }, void 0, false)]\n      }, void 0, true);\n    } else if (((_txnData$item$hash10 = txnData[item.hash]) === null || _txnData$item$hash10 === void 0 ? void 0 : _txnData$item$hash10.signature) != \"\") {\n      var _txnData$item$hash11;\n\n      //console.log(\"CALL\",txnData)\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16,\n            fontWeight: \"bold\"\n          },\n          children: \"Call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16\n          },\n          children: [(_txnData$item$hash11 = txnData[item.hash]) === null || _txnData$item$hash11 === void 0 ? void 0 : _txnData$item$hash11.signature, /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              margin: 4\n            },\n            disabled: !txnData[item.hash],\n            onClick: showModal,\n            children: /*#__PURE__*/_jsxDEV(EllipsisOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 16\n          },\n          children: \"on\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Address, {\n          address: item.to,\n          ensProvider: mainnetProvider,\n          blockExplorer: blockExplorer,\n          fontSize: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: children\n        }, void 0, false)]\n      }, void 0, true);\n    } else {\n      var _txnData$item$hash$fu2;\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Unknown transaction type...If you are reading this please screenshot and send to @austingriffith\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), ethers.utils.isAddress(txnData === null || txnData === void 0 ? void 0 : txnData.args[0]) && /*#__PURE__*/_jsxDEV(Address, {\n          address: txnData.args[0],\n          ensProvider: mainnetProvider,\n          blockExplorer: blockExplorer,\n          fontSize: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Balance, {\n          balance: item.value ? item.value : parseEther(\"\" + parseFloat(item.amount).toFixed(12)),\n          dollarMultiplier: price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: children\n        }, void 0, false), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: !txnData[item.hash],\n          onClick: showModal,\n          children: /*#__PURE__*/_jsxDEV(EllipsisOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            opacity: 0.5,\n            display: \"flex\",\n            justifyContent: \"space-evenly\",\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Event Name :\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), txnData ? (_txnData$item$hash$fu2 = txnData[item.hash].functionFragment) === null || _txnData$item$hash$fu2 === void 0 ? void 0 : _txnData$item$hash$fu2.name : \"Transfer Funds\", \"\\xA0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"To:\\xA0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Address, {\n              address: item.to,\n              ensProvider: mainnetProvider,\n              blockExplorer: blockExplorer,\n              fontSize: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TransactionDetailsModal, {\n      visible: isModalVisible,\n      txnInfo: txnData[item.hash],\n      handleOk: () => setIsModalVisible(false),\n      handleCancel: () => setIsModalVisible(false),\n      mainnetProvider: mainnetProvider,\n      price: price\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(List.Item, {\n      style: {\n        position: \"relative\",\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        width: 800\n      },\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: blockExplorer + \"tx/\" + item.hash,\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            style: {\n              padding: 16\n            },\n            children: [\"#\", typeof item.nonce === \"number\" ? item.nonce : item.nonce.toNumber()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 9\n        }, this), txDisplay(), /*#__PURE__*/_jsxDEV(Blockie, {\n          size: 4,\n          scale: 8,\n          address: item.hash\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true)\n    }, item.hash, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TransactionListItem, \"+6LDvUXnLV4PwQxNieK0uU3RUYo=\");\n\n_c = TransactionListItem;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionListItem\");","map":{"version":3,"sources":["/Users/edaakturk/Desktop/multi-sig-challenge/packages/react-app/src/components/MultiSig/TransactionListItem.jsx"],"names":["React","useState","useEffect","Button","List","Address","Balance","Blockie","TransactionDetailsModal","EllipsisOutlined","ethers","parseEther","parseExternalContractTransaction","axios","require","TransactionListItem","item","mainnetProvider","blockExplorer","price","readContracts","contractName","children","args","isModalVisible","setIsModalVisible","txnData","setTxnData","showModal","hash","parsedData","data","interface","parseTransaction","newData","argumentError","getParsedTransaction","parsedTransaction","to","txDisplay","toSelf","address","functionFragment","name","fontSize","fontWeight","utils","isAddress","toNumber","value","parseFloat","amount","toFixed","signature","margin","opacity","display","justifyContent","width","position","flexWrap","padding","nonce"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button, List } from \"antd\";\n\nimport { Address, Balance, Blockie } from \"..\";\nimport TransactionDetailsModal from \"./TransactionDetailsModal\";\nimport { EllipsisOutlined } from \"@ant-design/icons\";\nimport { ethers } from \"ethers\";\nimport { parseEther } from \"@ethersproject/units\";\nimport { parseExternalContractTransaction } from \"../../helpers\";\n\nconst axios = require(\"axios\");\n\nexport default function TransactionListItem({ item, mainnetProvider, blockExplorer, price, readContracts, contractName, children }) {\n  //console.log(\"coming in item:\", item);\n  item = item.args ? item.args : item;\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [txnData, setTxnData] = useState({});\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n\n\n  useEffect(() => {\n    if (!txnData[item.hash]) {\n      try {\n        const parsedData = item.data != \"0x\" ? readContracts[contractName].interface.parseTransaction(item) : null;\n        //console.log(\"SET\",JSON.stringify(item),JSON.stringify(parsedData))\n        const newData = {}\n        newData[item.hash] = parsedData\n        setTxnData({...txnData,...newData});\n      } catch (argumentError) {\n        const getParsedTransaction = async () => {\n          const parsedTransaction = await parseExternalContractTransaction(item.to, item.data);\n          const newData = {}\n          newData[item.hash] = parsedTransaction\n          setTxnData({...txnData,...newData});\n        }\n        getParsedTransaction();\n      }\n    }\n  }, [item]);\n\n\n\n\n  const txDisplay = ()=>{\n    const toSelf = (item?.to == readContracts[contractName].address)\n\n    if(toSelf && txnData[item.hash]?.functionFragment?.name == \"addSigner\")\n    {\n      return (\n        <>\n          <span style={{fontSize:16,fontWeight:\"bold\"}}>\n            Add Signer\n          </span>\n          {ethers.utils.isAddress(txnData[item.hash]?.args[0]) &&\n            <Address address={txnData[item.hash]?.args[0]} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={16} />\n          }\n          <span style={{fontSize:16}}>\n            with threshold {txnData[item.hash]?.args[1]?.toNumber()}\n          </span>\n          <>\n            {\n              children\n            }\n          </>\n        </>\n      )\n    }\n    else if(toSelf && txnData[item.hash]?.functionFragment?.name == \"removeSigner\")\n    {\n      return (\n        <>\n          <span style={{fontSize:16,fontWeight:\"bold\"}}>\n            Remove Signer\n          </span>\n          {ethers.utils.isAddress(txnData[item.hash]?.args[0]) &&\n            <Address address={txnData[item.hash]?.args[0]} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={16} />\n          }\n          <span style={{fontSize:16}}>\n            with threshold {txnData[item.hash]?.args[1]?.toNumber()}\n          </span>\n          <>\n            {\n              children\n            }\n          </>\n        </>\n      )\n    }else if(!txnData[item.hash]?.functionFragment?.name)\n    {\n      return (\n        <>\n          <span style={{fontSize:16,fontWeight:\"bold\"}}>\n            Transfer\n          </span>\n          <Balance balance={item.value ? item.value : parseEther(\"\" + parseFloat(item.amount).toFixed(12))} dollarMultiplier={price} />\n          to\n          <Address address={item.to} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={16} />\n          <>\n            {\n              children\n            }\n          </>\n        </>\n      )\n    }else if(txnData[item.hash]?.signature!=\"\")\n    {\n\n      //console.log(\"CALL\",txnData)\n\n      return (\n        <>\n          <span style={{fontSize:16,fontWeight:\"bold\"}}>\n            Call\n          </span>\n          <span style={{fontSize:16}}>\n            {txnData[item.hash]?.signature}\n            <Button\n              style={{margin:4}}\n              disabled={!txnData[item.hash]}\n              onClick={showModal}\n            >\n              <EllipsisOutlined />\n            </Button>\n          </span>\n          <span style={{fontSize:16}}>\n            on\n          </span>\n          <Address address={item.to} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={16} />\n          <>\n            {\n              children\n            }\n          </>\n        </>\n      )\n    }else{\n\n      return (\n        <>\n          <div><i>Unknown transaction type...If you are reading this please screenshot and send to @austingriffith</i></div>\n          {ethers.utils.isAddress(txnData?.args[0]) &&\n            <Address address={txnData.args[0]} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={16} />\n          }\n          <Balance balance={item.value ? item.value : parseEther(\"\" + parseFloat(item.amount).toFixed(12))} dollarMultiplier={price} />\n          <>\n            {\n              children\n            }\n          </>\n          <Button\n            disabled={!txnData[item.hash]}\n            onClick={showModal}\n          >\n            <EllipsisOutlined />\n          </Button>\n          <div\n            style={{\n              fontSize: 12,\n              opacity: 0.5,\n              display: \"flex\",\n              justifyContent: \"space-evenly\",\n              width: \"100%\",\n            }}\n          >\n            <p>\n              <b>Event Name :&nbsp;</b>\n              {txnData ? txnData[item.hash].functionFragment?.name : \"Transfer Funds\"}&nbsp;\n            </p>\n            <p>\n              <b>To:&nbsp;</b>\n              <Address address={item.to} ensProvider={mainnetProvider} blockExplorer={blockExplorer} fontSize={12} />\n            </p>\n          </div>\n        </>\n      )\n    }\n  }\n\n  return <>\n    <TransactionDetailsModal\n      visible={isModalVisible}\n      txnInfo={txnData[item.hash]}\n      handleOk={() => setIsModalVisible(false)}\n      handleCancel={() => setIsModalVisible(false)}\n      mainnetProvider={mainnetProvider}\n      price={price}\n    />\n    {<List.Item\n      key={item.hash}\n      style={{ position: \"relative\", display: \"flex\", flexWrap: \"wrap\", width:800 }}\n    >\n      <>\n        <a href={blockExplorer+\"tx/\"+item.hash} target=\"_blank\">\n          <b style={{ padding: 16 }}>#{typeof(item.nonce)=== \"number\" ? item.nonce : item.nonce.toNumber()}</b>\n        </a>\n        {txDisplay()}\n        <Blockie size={4} scale={8} address={item.hash} />\n      </>\n    </List.Item>}\n  </>\n};\n"]},"metadata":{},"sourceType":"module"}